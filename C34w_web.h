//--------------------------------------------------------------------------------------------------
const char fbs_jpg[] PROGMEM = 
"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";

//--------------------------------------------------------------------------------------------------
const char favicon_ico[] PROGMEM = 
"AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"AAAAAAAAAAAAAAAD8/wAAPA8AAPAPAADgDwAAcB8AAKA/AADwfwAA/5+AAAAfAAAAHwAAAB8AAAAf"
"AAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8A"
"AAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAA"
"AB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAA"
"HwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAf"
"AAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8A"
"AAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAAAB8AAAAfAAAAHwAA"
"AH8AAAA/AAD/gAAAAI8AAAC/AAD//wAA";

//--------------------------------------------------------------------------------------------------
const char index_html[] PROGMEM = R"rawliteral(
<!DOCTYPE html>
<html lang="fr">

<head>
    <title>C34w TEMPO</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="https://www.w3schools.com/w3css/4/w3.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" src="script.js"></script>
    <script type="https://cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.min.js"></script>
</head>

<body class="w3-animate-opacity">

    <!-- Entete et menu -->
    <div class="w3-card w3-blue w3-padding-small w3-center">
         <h1>C34w TEMPO</h1><span id="version">v0.00</span>
    </div>

    <!-- Information -->
    <div id="info" class="w3-margin w3-card menu">
        <div class="w3-container w3-text-blue">
            <h1>Information</h1>
        </div>
		    <div class="w3-padding">Nom Module: <b id="module_name"></b></div>
        <hr>
        <div class="w3-padding">Date: <b id="currentDate">01/01/1970</b></div>
        <div class="w3-padding">Couleur du jour: <b id="couleur_jour">indéfinie</b></div>
        <div class="w3-padding">Couleur demain: <b id="couleur_demain">indéfinie</b></div>
        <div class="w3-padding">Heure: <b id="heure">indéfinie</b></div>
		<div class="w3-padding">Relais: <b id="etat_relais">off</b></div>
	</div>
	<div id="config" class="w3-margin w3-card menu">
		<form id="form_config" class="w3-container w3-padding">
			<div class="w3-container w3-text-blue">
				<h1>Configuration relais</h1>
			</div>
			<div class="w3-padding">
				<fieldset><legend><b style="color:blue;">Jour Bleu</b></legend>
					<div><input type='checkbox' name='b_hc_name' id='b_hc_name'/><label> Heure creuse</label></div>
					<div><input type='checkbox' name='b_hp_name' id='b_hp_name'/><label> Heure pleine</label></div>
				</fieldset>
				<fieldset><legend><b>Jour Blanc</b></legend>
					<div><input type='checkbox' name='w_hc_name' id='w_hc_name'/><label> Heure creuse</label></div>
					<div><input type='checkbox' name='w_hp_name' id='w_hp_name'/><label> Heure pleine</label></div>
				</fieldset>
				<fieldset><legend><b style="color:red;">Jour Rouge</b></legend>
					<div><input type='checkbox' name='r_hc_name' id='r_hc_name'/><label> Heure creuse</label></div>
					<div><input type='checkbox' name='r_hp_name' id='r_hp_name'/><label> Heure pleine</label></div>
				</fieldset>
			</div>
		</form>
        <button onclick="savButton()" class="w3-btn w3-blue w3-border">Sauvegarde</button>
    </div>
	<div class="w3-panel w3-green" id="p_info" style="display:none"><span id="t_info">aaaaa</span></div>
    <div class="w3-panel w3-red" id="p_erreur_info" style="display:none"><span id="t_erreur_info">eeee</span></div>

    <div class="w3-padding w3-right">
    <img src="data:image/jpeg;base64,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" alt="FBS" width="50"><a href="https://fumeebleue.fr" style="text-decoration: none;"> Fumée Bleue 2024</a></i>
    </div>

</body>

</html>

)rawliteral";

//--------------------------------------------------------------------------------------------------

const char script_js[] PROGMEM = R"rawliteral(
/* sav config */
function savButton() {
    console.log("Sav config");
    console.log($("#form_config").serialize());
    $.post('/config.htm', $("#form_config").serialize())
        .done( function(msg, textStatus, xhr) {
            console.log($("#form_config").serialize());
            $.notify("Enregistrement effectuĂ©", "success");
        })
        .fail( function(xhr, textStatus, errorThrown) {
            $.notify("Enregistrement impossible "+ errorThrown, "error");
        })
        console.log("Form Submit config");
}

/* fonction lecture json */
function lire_item_json_info(myjson) {
    console.log("lire item json info");


    let j = JSON.parse(myjson, function(name, value) {

        if (name == "version") {
            document.getElementById("version").innerHTML = value;
        }
        if (name == "module_name") {
            document.getElementById("module_name").innerHTML = value;
        }
		    if (name == "date") {
            document.getElementById("date").innerHTML = value;
        }
        if (name == "couleur_jour") {
            document.getElementById("couleur_jour").innerHTML = value;
			      document.getElementById("couleur_jour").style.color = 'orange';
			      if (value.indexOf("BLEU") != -1) document.getElementById("couleur_jour").style.color = 'blue';
			      if (value.indexOf("BLANC") != -1) document.getElementById("couleur_jour").style.color = 'black';
			      if (value.indexOf("ROUGE") != -1) document.getElementById("couleur_jour").style.color = 'red';
        }
		    if (name == "couleur_demain") {
            document.getElementById("couleur_demain").innerHTML = value;
			      document.getElementById("couleur_demain").style.color = 'orange';
			      if (value.indexOf("BLEU") != -1) document.getElementById("couleur_demain").style.color = 'blue';
			      if (value.indexOf("BLANC") != -1) document.getElementById("couleur_demain").style.color = 'black';
			      if (value.indexOf("ROUGE") != -1) document.getElementById("couleur_demain").style.color = 'red';
        }
		    if (name == "heure") {
            if (value == "HP") {
				          document.getElementById("heure").style.color = 'red';
				          document.getElementById("heure").innerHTML = value;
			      }
			      if (value == "HC") {
				          document.getElementById("heure").style.color = 'green';
				          document.getElementById("heure").innerHTML = value;
			      }
        }
		    if (name == "etat_relais") {
            document.getElementById("etat_relais").innerHTML = value;
        }
        if (name == "info") {
            affiche_info_info(value);
        }
        if (name == "erreur_info") {
            affiche_erreur_info(value);
        }
        if (name == "current_date") {
            document.getElementById("currentDate").innerHTML = value;
        }

    });
}

/* fonction lecture json */
function lire_item_json_config(myjson) {
    console.log("lire item json cfg");

    document.getElementById("b_hc_name").checked = false;
    document.getElementById("b_hp_name").checked = false;
    document.getElementById("w_hc_name").checked = false;
    document.getElementById("w_hp_name").checked = false;
    document.getElementById("r_hc_name").checked = false;
    document.getElementById("r_hp_name").checked = false;

    let j = JSON.parse(myjson, function(name, value) {

        if (name == "b_hc_name") {
          if (value == 1) document.getElementById("b_hc_name").checked = true;
        }
        if (name == "b_hp_name") {
          if (value == 1) document.getElementById("b_hp_name").checked = true;
        }
        if (name == "w_hc_name") {
          if (value == 1) document.getElementById("w_hc_name").checked = true;
        }
        if (name == "w_hp_name") {
          if (value == 1) document.getElementById("w_hp_name").checked = true;
        }
        if (name == "r_hc_name") {
          if (value == 1) document.getElementById("r_hc_name").checked = true;
        }
        if (name == "r_hp_name") {
          if (value == 1) document.getElementById("r_hp_name").checked = true;
        }

    });
}


/* affiche info sur panel info*/
function affiche_info_info(buffer) {
    document.getElementById("t_info").innerHTML = buffer;
    if (buffer == "") {
        document.getElementById("p_info").style.display = "none";
    }
    else {
        document.getElementById("p_info").style.display = "block";
    }
}

/* affiche erreur sur panel info*/
function affiche_erreur_info(buffer) {
    document.getElementById("t_erreur_info").innerHTML = buffer;
    if (buffer == "") {
        document.getElementById("p_erreur_info").style.display = "none";
    }
    else {
        document.getElementById("p_erreur_info").style.display = "block";
    }
}


/* mise a jour info module */
function maj_infos() {
    console.log("maj infos");

    $.getJSON("/info.json", function(data) {
        let myNewJSON = JSON.stringify(data, null, '\t');
        lire_item_json_info(myNewJSON);
    })
    .fail(function(xhr, textStatus, errorThrown) {
        console.log( "error " + errorThrown );
    });
}

/* init */
function init () {
    console.log("get /config.json");

    $.getJSON("/config.json", function(data) {
        let myNewJSON = JSON.stringify(data, null, '\t');
        lire_item_json_config(myNewJSON);
    })
    .fail(function(xhr, textStatus, errorThrown) {
        console.log( "error " + errorThrown );
    });
    $.getJSON("/info.json", function(data) {
        let myNewJSON = JSON.stringify(data, null, '\t');
        lire_item_json_info(myNewJSON);
    })
    .fail(function(xhr, textStatus, errorThrown) {
        console.log( "error " + errorThrown );
    });
}

window.onload=init();
timer = window.setInterval("maj_infos()", 5000);

)rawliteral";